<%- include('../partials/head') %>
    <%- include('../partials/header') %>
        
    

<div style="margin-left: 5px;">
    <button class="btn btn-dark" onclick="toggleNav()">&#9776; Öffentlicher Verkehr</button>
    <a class="btn btn-dark" href="/parking">Parkplätze</a>
</div>

<div class="main-body" >
    <div id="mySidebar" class="sidebar col-xs-4" >
        <div class="row" style=" background-color: #fad10f;">
            <div class="col">
                <h5 class="text-center">Straßenbahn / Bus / S-Bahn</h5>
            </div>
        </div>
        <div class="row">
            <div class="col" style="background-color: white; " >
                <strong> Budapester Straße ➔ <br>Straßburger Platz</strong>
            </div>  
        </div>
        <div class="row">
            <div class="col" style="color: white; margin-top: 2px;" >
                <div class="row" >
                    <strong class="text-center">17:23 bis 17:36</strong>
                    <p style="margin-left: 10px;">13 min, ein Umstieg</p>
                    <strong style="margin-left: 10px;">Preisstufe 1</strong>
                    <p style="margin-left: 10px;">Straßenbahn 7</p>
                    <p style="margin-left: 10px;">☟</p>
                    <p style="margin-left: 10px;">Straßenbahn 2</p>
                </div>
            </div>
        </div>
        <hr style="background-color: white;">
        <div class="row">
            <div class="col" style="color: white;">
                <div class="row">
                    <strong class="text-center">17:23 bis 17:36</strong>
                </div>
            </div>
        </div>
    </div>

<div id="mapid" class="col-xs-4">
            <style>
             
            </style>
            <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
                integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
                crossorigin=""></script>

            <script>

                var mymap = L.map('mapid').setView([51.04088507976174, 13.747935536172829], 16);
                L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {
                    attribution: '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'
                }).addTo(mymap);


                var BikeIcon = L.icon({
                    iconUrl: src = "https://static.nextbike.net/map/marker/mobibike/12/supplied/h100.png",
                    iconSize: [80, 80], 
                });

                function setBikeMarker(lat, lng, name, bikes) {
                    var marker = L.marker([lat, lng], { icon: BikeIcon }).addTo(mymap);
                    marker.bindPopup("<b>" + name + "</b><br>" + bikes + " Fahrräder sind verfügbar");
                }

                var circle = L.circle([51.03984646311162, 13.748125423835354], {
                    radius: 7,
                    color: 'black',
                    opacity: 0.7,
                    fillColor: '#fad10f',
                    fillOpacity: '0.5'
                }).addTo(mymap);
                var circle = L.circle([51.04115536844868, 13.74958479726216],{
                    radius: 7,
                    color: 'black',
                    opacity: 0.7,
                    fillColor: '#fad10f',
                    fillOpacity: '0.5'
                }).addTo(mymap);
                var circle = L.circle([51.040648957041604, 13.749128680312026],{
                    radius: 7,
                    color: 'black',
                    opacity: 0.7,
                    fillColor: '#fad10f',
                    fillOpacity: '0.5'
                }).addTo(mymap);

                var marker = L.marker([51.04611, 13.75499]).addTo(mymap);
                marker.bindPopup("Straßburger Platz")
                var marker = L.marker([51.04257, 13.75133]).addTo(mymap);
                marker.bindPopup("Georg-Arnhold-Bad")
                var marker = L.marker([51.03838, 13.74660]).addTo(mymap);
                marker.bindPopup("Lennéplatz")
                
                <% for (var i = 0; i < mobiStations.length; i++) { %>
                    setBikeMarker(<%=  mobiStations[i].lat %>, <%=  mobiStations[i].lng %>, "<%=  mobiStations[i].name %>", <%=  mobiStations[i].bikes %>);
                <% } %>
                    setBikeMarker(51.04088507976174, 13.747935536172829, "Stadion");
            </script>
        </div>
</div>

        <%- include('../partials/footer') %>