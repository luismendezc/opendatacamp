<%- include('../partials/head') %>
    <%- include('../partials/header') %>
        

<div>
    <button class="openbtn" onclick="toggleNav()">&#9776; public transport</button>
    <button class="openbtn" onclick="toggleNav()">&#9776; car</button>
</div>

<div class="main-body" >
    <div id="mySidebar" class="sidebar col-xs-4">
        <a href="#">About</a>
        <a href="#">Services</a>
        <a href="#">Clients</a>
        <a href="#">Contact</a>
    </div>

<div id="mapid" class="col-xs-4">
            <style>
                #mapid {width: 68.75%;}
                #mapid {margin: 5px;}
                #mapid {border-radius: 5px;}
                #mapid {padding: 5px;}
            </style>
            <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
                integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
                crossorigin=""></script>

            <script>

                var mymap = L.map('mapid').setView([51.04088507976174, 13.747935536172829], 16);
                L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {
                    attribution: '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'
                }).addTo(mymap);


                var BikeIcon = L.icon({
                    iconUrl: src = "https://static.nextbike.net/map/marker/mobibike/12/supplied/h100.png",
                    iconSize: [80, 80], 
                });

                function setBikeMarker(lat, lng, name, bikes) {
                    var marker = L.marker([lat, lng], { icon: BikeIcon }).addTo(mymap);
                    marker.bindPopup("<b>" + name + "</b><br>" + bikes + " Fahrräder sind verfügbar");
                }
                
                <% for (var i = 0; i < mobiStations.length; i++) { %>
                    setBikeMarker(<%=  mobiStations[i].lat %>, <%=  mobiStations[i].lng %>, "<%=  mobiStations[i].name %>", <%=  mobiStations[i].bikes %>);
                <% } %>
                    setBikeMarker(51.04088507976174, 13.747935536172829, "Stadion");
            </script>
        </div>
    <!-- <div id="mapid" class="col-xs-4">
        <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
                integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
                crossorigin=""></script>

        <script>
            var mymap = L.map('mapid').setView([51.04088507976174, 13.747935536172829], 16);
            L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {
                attribution: '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'
            }).addTo(mymap);

            var BikeIcon = L.icon({
                iconUrl: src="https://static.nextbike.net/map/marker/mobibike/12/supplied/h100.png",
                iconSize:     [96, 96], // size of the icon
                // shadowSize:   [50, 64], // size of the shadow
                iconAnchor:   [48, 80], // point of the icon which will correspond to marker's location
                // shadowAnchor: [4, 62],  // the same for the shadow
                // popupAnchor:  [-3, -76] // point from which the popup should open relative to the iconAnchor
            });

            function setBikeMarker (lat,lng, name){
                var marker = L.marker([lat, lng], {icon: BikeIcon}).addTo(mymap);
                marker.bindPopup("Test")
            }

           
            setBikeMarker(51.04088507976174, 13.747935536172829);
        </script>
    </div> -->
</div>

        <%- include('../partials/footer') %>